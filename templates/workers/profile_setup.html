{% extends 'base.html' %}
{% load widget_tweaks %}

{% block title %}Complete Profile - Worker Connect{% endblock %}

{% block content %}
<div class="container py-5">
    <div class="row justify-content-center">
        <div class="col-lg-8">
            <div class="card shadow-lg border-0">
                <div class="card-body p-5">
                    <div class="text-center mb-4">
                        <i class="bi bi-person-check display-3 text-primary"></i>
                        <h2 class="fw-bold mt-3">Complete Your Profile</h2>
                        <p class="text-muted">Fill in your professional details to get started</p>
                    </div>
                    
                    <form method="post" novalidate>
                        {% csrf_token %}
                        
                        {% if form.non_field_errors %}
                            <div class="alert alert-danger">
                                {{ form.non_field_errors }}
                            </div>
                        {% endif %}
                        
                        <!-- Personal Information -->
                        <div class="mb-4">
                            <h5 class="fw-bold text-primary mb-3">
                                <i class="bi bi-person"></i> Personal Information
                            </h5>
                            
                            <div class="mb-3">
                                <label for="{{ form.bio.id_for_label }}" class="form-label">Bio</label>
                                {% render_field form.bio class="form-control" rows="4" placeholder="Tell us about your experience and skills..." %}
                                {% if form.bio.errors %}
                                    <div class="text-danger small">{{ form.bio.errors }}</div>
                                {% endif %}
                            </div>
                        </div>

                        <!-- Location -->
                        <div class="mb-4">
                            <h5 class="fw-bold text-primary mb-3">
                                <i class="bi bi-geo-alt"></i> Location
                            </h5>
                            
                            <div class="row">
                                <div class="col-12 mb-3">
                                    <label for="{{ form.address.id_for_label }}" class="form-label">Address</label>
                                    {% render_field form.address class="form-control" %}
                                    {% if form.address.errors %}
                                        <div class="text-danger small">{{ form.address.errors }}</div>
                                    {% endif %}
                                </div>
                                <div class="col-md-6 mb-3">
                                    <label for="{{ form.city.id_for_label }}" class="form-label">City</label>
                                    {% render_field form.city class="form-control" %}
                                    {% if form.city.errors %}
                                        <div class="text-danger small">{{ form.city.errors }}</div>
                                    {% endif %}
                                </div>
                                <div class="col-md-6 mb-3">
                                    <label for="{{ form.state.id_for_label }}" class="form-label">State/Province</label>
                                    {% render_field form.state class="form-control" %}
                                    {% if form.state.errors %}
                                        <div class="text-danger small">{{ form.state.errors }}</div>
                                    {% endif %}
                                </div>
                                <div class="col-md-6 mb-3">
                                    <label for="{{ form.country.id_for_label }}" class="form-label">Country</label>
                                    {% render_field form.country class="form-control" %}
                                    {% if form.country.errors %}
                                        <div class="text-danger small">{{ form.country.errors }}</div>
                                    {% endif %}
                                </div>
                                <div class="col-md-6 mb-3">
                                    <label for="{{ form.postal_code.id_for_label }}" class="form-label">Postal Code</label>
                                    {% render_field form.postal_code class="form-control" %}
                                    {% if form.postal_code.errors %}
                                        <div class="text-danger small">{{ form.postal_code.errors }}</div>
                                    {% endif %}
                                </div>
                            </div>

                            <!-- Religion and Work Flexibility -->
                            <div class="row">
                                <div class="col-md-6 mb-3">
                                    <label for="{{ form.religion.id_for_label }}" class="form-label">Religion</label>
                                    {% render_field form.religion class="form-select" %}
                                    <div class="form-text text-muted">Optional: Select your religion or prefer not to say</div>
                                    {% if form.religion.errors %}
                                        <div class="text-danger small">{{ form.religion.errors }}</div>
                                    {% endif %}
                                </div>
                                <div class="col-md-6 mb-3">
                                    <label class="form-label">Work Flexibility</label>
                                    <div class="form-check mt-2">
                                        {% render_field form.can_work_everywhere class="form-check-input" %}
                                        <label class="form-check-label" for="{{ form.can_work_everywhere.id_for_label }}">
                                            Can work everywhere (any location)
                                        </label>
                                    </div>
                                    <div class="form-text text-muted">Check if you're willing to work at any location</div>
                                    {% if form.can_work_everywhere.errors %}
                                        <div class="text-danger small">{{ form.can_work_everywhere.errors }}</div>
                                    {% endif %}
                                </div>
                            </div>
                        </div>

                        <!-- Professional Details -->
                        <div class="mb-4">
                            <h5 class="fw-bold text-primary mb-3">
                                <i class="bi bi-briefcase"></i> Professional Details
                            </h5>
                            
                            <div class="row">
                                <div class="col-md-6 mb-3">
                                    <label for="{{ form.experience_years.id_for_label }}" class="form-label">Years of Experience</label>
                                    {% render_field form.experience_years class="form-control" %}
                                    {% if form.experience_years.errors %}
                                        <div class="text-danger small">{{ form.experience_years.errors }}</div>
                                    {% endif %}
                                </div>
                                <div class="col-md-6 mb-3">
                                    <label for="{{ form.hourly_rate.id_for_label }}" class="form-label">Hourly Rate (USD)</label>
                                    <div class="input-group">
                                        <span class="input-group-text">$</span>
                                        {% render_field form.hourly_rate class="form-control" %}
                                    </div>
                                    {% if form.hourly_rate.errors %}
                                        <div class="text-danger small">{{ form.hourly_rate.errors }}</div>
                                    {% endif %}
                                </div>
                                <div class="col-12 mb-3">
                                    <label for="{{ form.availability.id_for_label }}" class="form-label">Availability</label>
                                    {% render_field form.availability class="form-select" %}
                                    {% if form.availability.errors %}
                                        <div class="text-danger small">{{ form.availability.errors }}</div>
                                    {% endif %}
                                </div>
                            </div>
                        </div>

                        <!-- Categories -->
                        <div class="mb-4">
                            <h5 class="fw-bold text-primary mb-3">
                                <i class="bi bi-tags"></i> Categories
                            </h5>
                            <p class="text-muted small mb-3">Select the categories you work in</p>
                            
                            <div class="row">
                                {% for checkbox in form.categories %}
                                    <div class="col-md-6 col-lg-4 mb-2">
                                        <div class="form-check">
                                            {{ checkbox.tag }}
                                            <label class="form-check-label" for="{{ checkbox.id_for_label }}">
                                                {{ checkbox.choice_label }}
                                            </label>
                                        </div>
                                    </div>
                                {% endfor %}
                            </div>
                            {% if form.categories.errors %}
                                <div class="text-danger small">{{ form.categories.errors }}</div>
                            {% endif %}
                        </div>
                        
                        <button type="submit" class="btn btn-primary w-100 btn-lg">
                            <i class="bi bi-check-circle"></i> Complete Profile
                        </button>
                    </form>
                    
                    <div class="text-center mt-4">
                        <p class="text-muted">You can always edit your profile later from your dashboard</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}